## Diagrams – Layered Modular SDK

### Routing and Decision (User → SDK Core → Call | Agent)
```text
+----------------------------+
| User App / Orchestrator    |
+----------------------------+
              |
              v
+-----------------------------------------------+
| SDK Core (agnostic)                            |
| - Capabilities, Normalization, Policies        |
+----------------------+------------------------+
                       |
         +-------------+--------------+
         |                            |
         v                            v
+------------------------+   +-------------------------+
| Call Path (Router)     |   | Agent Path (AgentRunner)|
+-----------+------------+   +-----------+-------------+
            |                            |
            v                            v
   +-------------------+          +------------------------------+
   | Provider Adapters |          | Optional Provider Agent Adpts|
   | (OpenAI/Anth/xAI) |          | (e.g., OpenAI Agents SDK)    |
   +-----+-----+-----+-+          +--------------+---------------+
         |     |     |                          |
         v     v     v                          v
     Provider APIs (HTTP)                 Provider Agent SDK/Runner

Outputs → Normalized events (start/delta/usage/complete) & results (text/JSON)
```

### Layered Stack (separate boxes)
```text
+----------------------------+
| User App / Orchestrator    |
+----------------------------+
              |
              v
+-----------------------------------------------+
| Public API Layer                               |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Decision & Normalization Layer                 |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Capability & Policy Layer                      |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Routing Layer                                  |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Provider Adapter Layer                         |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Streaming & Events Layer                       |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Errors, Retries & Idempotency                  |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Metrics & Observability                        |
+-----------------------------------------------+
              |
              v
+-----------------------------------------------+
| Optional Provider-Native Agent Adapters        |
+-----------------------------------------------+
```


